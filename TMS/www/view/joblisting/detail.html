<ion-view title="JobListing-Detail">
    <ion-header-bar align-title="center" no-tap-scroll=true class="bar-positive">
        <div class="buttons">
            <button class="button button-icon button-clear ion-android-arrow-back" ng-click="returnList()"></button>
        </div>
        <h1 class="title" ng-bind="title">Collection <Booking No></h1>
    </ion-header-bar>
    <ion-content id="iPane">
        <div style="height: 43px;"></div>
        <div class="card" id="iCard" style="overflow-y:auto">
            <div class="button-bar">
                <a class="button" ng-href="{{Detail.csbk1.Rcbp1PhoneNumber}}">
                    CALL
                </a>
                <!-- <button class="button" ng-click="showActionSheet()">
          CALL
        </button> -->
                <button class="button">
                    MAP
                </button>
                <button class="button" ng-click="showActionSheet()">
                    CAMERA
                </button>
            </div>
            <div class="item item-input-inset">

                <label class="item-input-wrapper">
                    <!-- style="font-weight:bold;" -->
                    <label>Box No: </label>
                    <input type="text" placeholder="" style="height:25px;" ng-model="Detail.csbk1.ItemNo" ng-readonly="true">
                </label>
                <button class="button icon iconfont ion-android-refresh">
                </button>
            </div>
            <div class="row item item-divider">
                <div class="col col-25">
                    Box Size
                </div>
                <div class="col col-25">
                    &nbsp&nbsp Qty
                </div>
                <div class="col col-25">
                    Collected
                </div>
                <div class="col col-25">
                    &nbsp &nbsp Add
                </div>
            </div>
            <div class="item item-text-wrap" id="idivCsbk2" style="padding: 2px">
                <ion-item class="item" ng-repeat="Csbk2 in Detail.csbk2s" style="padding: 2px">
                    <div class="row">
                        <!-- <div class="row" style="height:0px;"> -->
                        <div class="col col-25">
                            <p><span ng-bind="Csbk2.BoxCode"></span></p>
                        </div>
                        <div class="col col-25">
                            <p> <span ng-bind="Csbk2.Pcs"></span></p>
                        </div>
                        <div class="col col-25">
                            <input type="text" id="iCollectedPcs" style="height:20px;" ng-model="Csbk2.CollectedPcs" ng-change="checkQty(Csbk2)">
                        </div>
                        <div class="col col-25">
                            <input type="text" id="AddQty" style="height:20px;" ng-model="Csbk2.AddQty">
                        </div>
                    </div>
                </ion-item>

            </div>
            <div>
                <button class="button button-block button-calm">
                    Add Box
                </button>
            </div>
            <div>
                <div class="row">
                    <div class="col">
                        Deposit
                    </div>
                    <div class="col">
                        <p><span ng-bind="Detail.csbk1.DepositAmt"></span></p>
                    </div>
                    <div class="col">
                        Balance
                    </div>
                    <div class="col">
                        <p><span ng-bind="Detail.AllBalance"></span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Discount
                    </div>
                    <div class="col">
                        <p><span ng-bind="Detail.csbk1.DiscountAmt"></span></p>
                    </div>
                    <div class="col">
                        Collected
                    </div>
                    <div class="col">
                        <!-- <p><span ng-bind="csbk2.Collected"></span></p> -->
                        <input class="col" id="iCollectedAmt" style="height:22px;" type="text" ng-model="Detail.csbk1.CollectedAmt">
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
    <ion-footer-bar class="bar-positive">
        <div class="button-bar">
            <button class="button icon ion-android-done" ng-click="gotoConfirm()">
                &nbsp;OK
            </button>
            <button class="button icon ion-arrow-return-right" ng-click="returnList()">
                &nbsp;Cancel
            </button>
        </div>
    </ion-footer-bar>

    <script id="camera.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar-positive" align-title="center">
                <div class="buttons">
                    <button class="button button-icon button-clear ion-android-arrow-back" ng-click="closeModal('camera')"></button>
                </div>
                <div class="h1 title">Camera</div>
            </ion-header-bar>
            <ion-pane>
                <div style="height: 43px;"></div>
                <webcam channel="myChannel" ng-show="capture==null"></webcam>
                <canvas id="canvas1" width="320" height="480" visble="false"></canvas>
                <img width="320" ng-src='{{capture}}' ng-show="capture!=null" />
            </ion-pane>
            <ion-footer-bar class="bar-positive hide-on-keyboard-open">
                <div class="button-bar">
                    <button class="button icon ion-android-refresh" ng-click="reCapture()">
                        &nbsp;Restore
                    </button>
                    <button class="button icon ion-android-camera" ng-click="takePhoto()">
                    </button>
                    <button class="button icon ion-arrow-return-right" ng-click="closeModal()" ng-if="capture==null">
                        &nbsp;Return
                    </button>
                    <button class="button icon ion-android-done" ng-click="uploadPhoto()" ng-if="capture!=null">
                        &nbsp;Done
                    </button>
                </div>
            </ion-footer-bar>
        </ion-modal-view>
    </script>
</ion-view>
